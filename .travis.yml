language: python
python:
  - "3.7-dev"
env:
  - DJANGO_ENV=travis
before_install:
  - export PIP_USE_MIRRORS=true

matrix:
  - DJANGO=2.1.7
install:
  - pip install -q -r requirements.txt
  - pip install Django==2.1.7

script:
  - python manage.py test accounts -v 2
  - python manage.py test core_site -v 2
  - python manage.py test home -v 2
  - python manage.py test djangosrc -v 2
  - pylint.exe --load-plugins pylint_django \home\admin.py
  - pylint.exe --load-plugins pylint_django \home\forms.py
  - pylint.exe --load-plugins pylint_django \home\models.py
  - pylint.exe --load-plugins pylint_django \home\views.py
  - pylint.exe --load-plugins pylint_django \accounts\admin.py
  - pylint.exe --load-plugins pylint_django \accounts\forms.py
  - pylint.exe --load-plugins pylint_django \accounts\models.py
  - pylint.exe --load-plugins pylint_django \accounts\views.py
